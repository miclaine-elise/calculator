<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id='container'>
        <div id='screen'>
            <text id="equation"></text>
            <text id="input"></text>
        </div>
        <div id='keypad'>
            <div id="row1" class="row">
                <button class='function'>CLEAR</button>
                <button class='function'>DELETE</button>
            </div>
            <div id="row2" class="row">
                <button class='num'>7</button>
                <button class='num'>8</button>
                <button class='num'>9</button>
                <button class='operator'>/</button>
            </div>
            <div id="row3" class="row">
                <button class='num'>4</button>
                <button class='num'>5</button>
                <button class='num'>6</button>
                <button class='operator'>x</button>
            </div>
            <div id="row4" class="row">
                <button class='num'>1</button>
                <button class='num'>2</button>
                <button class='num'>3</button>
                <button class='operator'>-</button>
            </div>
            <div id="row5" class="row">
                <button class='num'>.</button>
                <button class='num'>0</button>
                <button class="operator" id='evaluate'>=</button>
                <button class='operator'>+</button>
            </div>
        </div>
    </div>
    <script>
        let input = document.querySelector('#input');
        let equation = document.querySelector('#equation');
        let num = document.querySelectorAll('.num');
        let operators = document.querySelectorAll('.operator');
        let evaluate = document.querySelector('#evaluate');
        let operator;
        let result;
        let terms;

        showNumInput();
        function showNumInput() {
            for (let i = 0; i <= num.length - 1; i++) {
                num[i].addEventListener('click', function (event) {
                    clearInput();
                    input.textContent = input.textContent + this.textContent;
                });
            }
        }
        function clearInput() {
            input.textContent = '';
        }
        for (let i = 0; i <= operators.length - 1; i++) {
            operators[i].addEventListener('click', function (event) {
                equation.textContent = equation.textContent + input.textContent + this.textContent;
                let expression = equation.textContent;
                terms = expression.replace('=', '').split('+');
                console.log(terms);

                if (this.textContent !== "=") {
                    operator = this.textContent;
                    if (terms[1] !== '') {
                        evaluateExpression();
                        equation.textContent = result + operator;
                    }
                }

            });
        }
        evaluate.addEventListener('click', evaluateExpression);
        function evaluateExpression() {
            switch (operator) {
                case operator = "+":
                    result = +terms[0] + +terms[1];
                    console.log(result);
                    break;
                case operator = "-":
                    result = terms[0] - terms[1];
                    break;
                case operator = "x":
                    result = terms[0] * terms[1];
                    break;
                case operator = "/":
                    result = terms[0] / terms[1];
                    break;
            }
            input.textContent = result;

        }



    </script>
</body>

</html>